$.ajaxSettings.accepts.json = null # required to work with the epages API

# TODO: Add a fallback in case <head> cannot be found.
style = """
  <style type="text/css" id="epages-shop-styles">
    #epages-shop-widget-loading {
      background-image: url(data:image/gif;base64,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);
      background-color: white;
      border-radius: 6px;
      display: none;
      height: 32px;
      left: 50%;
      position: fixed;
      top: 50px;
      width: 32px;
      z-index: 10002;
    }
    .epages-shop-widget  {
      overflow: auto;
    }
    .epages-shop-widget .epages-shop-product {
      float: left;
      width: 100px;
      margin: 10px;
      height: 200px;
    }
  </style>
"""
head = document.getElementsByTagName("head")[0]
head.insertAdjacentHTML("afterbegin", style)

App.start()
